{% extends 'users/base.html' %}
{% load static %}
{% block content %}
<style>
    .display_img{
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.9);
        position: fixed;
        top: 0;
        left: 0;
        display: none;
        align-items: center;
        justify-content: center;
        z-index: 100; /*scrolling feature on zoomed images will be implemented later.*/
      }
      
      .display_img img{
        width: 80%;
        width: 800px;
      }
      
      .display_img #close{
        position: absolute;
        top: 4%;
        left: 5%;
        font-size: 20px;
        color: white;
        cursor: pointer;
        font-weight: bold;
      }
      
      .display_img #zoom-in{
        position: absolute;
        top: 3%;
        right: 45%;
        font-size: 40px;
        color: white;
        cursor: pointer;
        font-weight: bold;
      }
      
      .display_img #zoom-out{
        position: absolute;
        top: 2.5%;
        right: 52%;
        font-size: 50px;
        color: white;
        cursor: pointer;
        font-weight: bold;
      }
      
</style>
{% comment %} <link rel="stylesheet" href="{% static 'css/main.css' %}"> {% endcomment %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
    integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
<link href="{% static 'users/css/style.css' %}" rel="stylesheet" type="text/css" />
<div class="container">
<div class="row">
    {% for x in img %}
    <div class="col-sm-4">
        <div class="images">
            <img id="gal_img" src="{{x.photo.url}}" alt="" onclick="open_preview_image(this.src)">

            <div class="card-footer">
                <small class="text-muted">{{x.date}}</small>
            </div>
        </div>
    </div>
    <div class="display_img" id="preview_win">
        <img src="{{x.photo.url}}" id="preview_img">
        <span id="close" onclick="close_preview_image()">< BACK</span>
        <span id="zoom-in" onclick="zoom_in()">+</span>            
        <span id="zoom-out" onclick="zoom_out()">-</span>
        {% comment %} <span id="edit" onclick= "edit_controls()"><img src="assets/editor.png"></span> {% endcomment %}
        {% comment %} <span id="filename">test.png</span>
        <span id="editting_btns">
          <img id="bright" src="assets/brightness.png">
          <img id="contrast" src="assets/contrast.png">
          <img id="saturate" src="assets/saturation.png">
          <img id="blur" src="assets/blur.png"> {% endcomment %}
        </span>
      </div>
    {% endfor %}
</div>
</div>


{% comment %} <div class="row g-0">
  <div class="col-sm-6 col-md-8" id="header-text">
    <h1 id="header-h1">Multi-regulated <br> global broker. </h1>
    <p id="header-paragraph">A trusted destination for traders worldwide, <br> Authorised by FCA, ASIC & FSCA</p>
    <a class="btn" style="color: white; background-color: #fd5e14;" type="submit" id="body-link-row">Discover More</a>
  </div>
  
  <div class="col-6 col-md-4" id="header-image"><img src="images/in-liquid-slide-2.svg " alt=""></div>
</div> {% endcomment %}
<script>
    var previewImgWin= document.getElementById("preview_win");
    var previewImg= document.getElementById("preview_img");

    function open_preview_image(pic)
    {
        previewImgWin.style.display= "flex";
        preview_img.src= pic;
    }

    function close_preview_image()
    {
        previewImgWin.style.display= "none";
        var previewImg= document.getElementById("preview_img");
        previewImg.style.width= "800px";
    }

    function zoom_in()
    {
      var previewImg= document.getElementById("preview_img");
      var curr_width= previewImg.clientWidth;
      var edit_btn= document.getElementById("edit");
      var file_name= document.getElementById("filename");
      previewImg.style.width= (curr_width+100)+"px";
      previewImg.style.transition= "ease-in-out .3s";
      if(curr_width!=800)
      {
        edit_btn.style.display= "none";
        file_name.style.display= "none";
      }

      else
      {
        edit_btn.style.display= "flex";
        file_name.style.display= "flex";
      }

    }

    function zoom_out()
    {
      var previewImg= document.getElementById("preview_img");
      previewImg.style.transition= "ease-in-out .3s";
      var curr_width= previewImg.clientWidth;
      previewImg.style.width= (curr_width-100)+"px";
      var edit_btn= document.getElementById("edit");
      var file_name= document.getElementById("filename");
      if(curr_width!=800)
      {
        edit_btn.style.display= "none";
        file_name.style.display= "none";
      }

      else
      {
        edit_btn.style.display= "flex";
        file_name.style.display= "flex";
      }
    }

    function edit_controls(){
      var bright_btn= document.getElementById("bright");
      var cont_btn= document.getElementById("contrast");
      var satu_btn= document.getElementById("saturate");
      var blur_btn= document.getElementById("blur");
      var edit_btn= document.getElementById("edit")

      bright_btn.style.display= "flex";
      cont_btn.style.display= "flex";
      satu_btn.style.display= "flex";
      blur_btn.style.display= "flex";
      edit_btn.style.display= "none"
    }
</script>
{% endblock content %}